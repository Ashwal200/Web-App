{"version":3,"sources":["back/firebase.js","back/DataBase.js","components/Lobby.js","socket.js","components/CodeBlock.js","components/AddCodeBlock.js","App.js","reportWebVitals.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","dbCollection","collection","DataBase","getDocsList","async","getDocs","addCodeBlock","title","code","addDoc","getCode","document","docs","find","doc","id","data","updateDocument","newData","docRef","docSnapshot","getDoc","exists","Error","concat","setDoc","merge","console","log","error","Lobby","codeBlocks","setCodeBlocks","useState","useEffect","socket","io","emit","codeBlocksList","map","fetchCodeBlocks","disconnect","React","createElement","className","block","key","Link","to","CodeBlock","useParams","setCode","setTitle","role","setRole","on","fetchData","updatedCode","HiArrowCircleLeft","Fragment","value","onChange","e","target","required","onClick","preventDefault","window","location","reload","SyntaxHighlighter","language","style","docco","AddCodeBlock","htmlFor","type","App","Router","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.21a7913f.chunk.js","sourcesContent":["\n// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, getDocs, addDoc } from 'firebase/firestore';\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCz-PX9Vl-E_hSmm1rhgWQihnEQR_QZDT8\",\n  authDomain: \"webworkspace-54d30.firebaseapp.com\",\n  projectId: \"webworkspace-54d30\",\n  storageBucket: \"webworkspace-54d30.appspot.com\",\n  messagingSenderId: \"465147165848\",\n  appId: \"1:465147165848:web:3827f79f607582c931a4ed\",\n  measurementId: \"G-E1D1CD7FDS\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nconst db = getFirestore(app);\n\nexport { db, collection, getDocs, addDoc };","import { setDoc , doc , getDoc } from \"firebase/firestore\";\nimport { db, collection, getDocs, addDoc } from \"./firebase\";\n\nconst dbCollection = collection(db, \"Codes\")\n\nexport const DataBase = {\n  getDocsList: async () => {\n    const snapshot = await getDocs(dbCollection);\n    return snapshot;\n  },\n  addCodeBlock: async (title, code) => {\n    await addDoc(dbCollection, { title, code });\n  },\n  getCode: async (id) => {\n    const snapshot = await getDocs(dbCollection);\n    const document = snapshot.docs.find(doc => doc.id === id);\n    return document ? document.data() : null;\n  },\n  // Define a function to update a specific document\n  updateDocument: async (id, newData) => {\n    try {\n      const docRef = doc(db, \"Codes\", id);\n      const docSnapshot = await getDoc(docRef);\n      \n      if (!docSnapshot.exists()) {\n        throw new Error(`Document with ID ${id} does not exist`);\n      }\n  \n      // Update the document with the new data\n      await setDoc(docRef, { title: docSnapshot.data().title, code: newData }, { merge: true });\n      console.log('Document updated successfully!');\n    } catch (error) {\n      console.error('Error updating document:', error);\n    }\n  }\n}\n\n\nexport default DataBase;","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../styles.css';\nimport { DataBase } from '../back/DataBase'\nimport io from 'socket.io-client'; \n\nconst Lobby = () => {\n    const [codeBlocks, setCodeBlocks] = useState([]);\n\n    useEffect(() => {\n        const fetchCodeBlocks = async () => {\n            try {\n                const querySnapshot = await DataBase.getDocsList();\n                const codeBlocksList = querySnapshot.docs.map(doc => ({ id: doc.id, title: doc.data().title, data: doc.data().data }));\n                setCodeBlocks(codeBlocksList);\n                console.log(\"codeBlocksList:\", codeBlocksList);\n            } catch (error) {\n                console.error('Error fetching code blocks:', error);\n            }\n        };\n        const socket = io();\n        socket.emit('joinRoom', \"Lobby\");\n        fetchCodeBlocks();\n\n\n        return () => {\n            socket.disconnect();\n        };\n    }, []);\n\n    return (\n        <div className=\"container\">\n            <div className=\"code-container\">\n            <h1>Choose code block</h1>\n                <div className=\"scrollable-section\">\n                    <ul>\n                        {codeBlocks.map(block => (\n                            <li key={block.id}>\n                                <Link to={`/codeblock/${block.id}`}>{block.title}</Link>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            </div>\n            <div className=\"add-code-block\">\n                <h2>Add Code Block</h2>\n                <Link to=\"/add\">\n                    <button>Add</button>\n                </Link>\n            </div>\n        </div>\n    );\n};\n\nexport default Lobby;\n","// socket.js\n\nimport io from 'socket.io-client';\n\nconst socket = io('http://localhost:3000'); // Initialize Socket.IO client with server URL\n\nexport default socket;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { DataBase } from '../back/DataBase';\nimport { Link } from 'react-router-dom';\nimport { HiArrowCircleLeft } from \"react-icons/hi\";\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport socket from '../socket';\n\n\nconst CodeBlock = () => {\n    const { id } = useParams();\n    const [code, setCode] = useState('');\n    const [title, setTitle] = useState('');\n    const [role, setRole] = useState(null);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const data = await DataBase.getCode(id);\n                setCode(data.code);\n                setTitle(data.title)\n                \n                await socket.on('role', (role) => {\n                    console.log(role)\n                    setRole(role);\n                });\n\n            } catch (error) {\n                console.error('Error fetching code block:', error);\n            }\n        };\n        fetchData();\n\n        \n\n        // Listen for updated code from the server\n        socket.on('newUpdatedCode', (updatedCode) => {\n            setCode(updatedCode);\n        });\n    }, []);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            await DataBase.updateDocument(id, code);\n            window.location.reload();\n        } catch (error) {\n            console.error('Error adding code block:', error);\n        }\n    };\n    return (\n        <div>\n            <Link to=\"/\">\n                <HiArrowCircleLeft className=\"btn-submit-back\"></HiArrowCircleLeft>\n            </Link>\n            <div className=\"form-group-code\">\n                <div className='head'> Code: {title}</div>\n                {role === null ? (\n                    <>\n                        <textarea className='textarea-code' id=\"code\" value={code} onChange={(e) => { setCode(e.target.value); socket.emit('updatedCode', e.target.value); }} required />\n                        <button onClick={handleSubmit} className=\"btn-submit-save\"> Save </button>\n                    </>\n                ) : (\n                    <SyntaxHighlighter language=\"javascript\" style={docco}>\n                        {code}\n                    </SyntaxHighlighter>\n                )}\n            </div>\n        </div>\n    );\n};\nexport default CodeBlock;\n","import React, { useState , useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport { DataBase } from '../back/DataBase';\nimport io from 'socket.io-client'; \n\nconst AddCodeBlock = () => {\n    const [title, setTitle] = useState('');\n    const [code, setCode] = useState('');\n    useEffect(() => {\n\n        const socket = io();\n        socket.emit('joinRoom', \"AddCodeBock\");\n\n        return () => {\n            socket.disconnect();\n        };\n    }, []);\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            await DataBase.addCodeBlock(title, code);\n            setTitle('')\n            setCode('')\n            \n            // Redirect to the lobby page after successful submission\n        } catch (error) {\n            console.error('Error adding code block:', error);\n            // Handle error (e.g., display an error message)\n        }\n    };\n\n    return (\n        <div className=\"add-code-block-container\"> \n            <h2>Add Code Block</h2>\n            <form className=\"add-code-block-form\">\n                <div className=\"form-group\"> \n                    <label htmlFor=\"title\">Title:</label>\n                    <input type=\"text\" id=\"title\" value={title} onChange={(e) => setTitle(e.target.value)} required />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"code\">Code:</label>\n                    <textarea id=\"code\" value={code} onChange={(e) => setCode(e.target.value)} required />\n                </div>\n                <button onClick={handleSubmit} className=\"btn-submit\"> Submit </button>\n                <Link to=\"/\">\n                    <button className=\"btn-submit\">Lobby</button>\n                </Link>\n            </form>\n        </div>\n    );\n};\n\nexport default AddCodeBlock;\n","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport Lobby from './components/Lobby';\nimport CodeBlock from './components/CodeBlock';\nimport AddCodeBlock from './components/AddCodeBlock';\nimport io from 'socket.io-client';\n\nconst socket = io(); // Establish socket connection\n\nfunction App() {\n    useEffect(() => {\n        return () => {\n            socket.disconnect(); // Clean up socket connection on component unmount\n        };\n    }, []);\n\n    return (\n        <Router>\n            <Routes>\n                <Route path=\"/\" element={<Lobby />} />\n                <Route path=\"/codeblock/:id\" element={<CodeBlock />} />\n                <Route path=\"/add\" element={<AddCodeBlock />} />\n            </Routes>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}