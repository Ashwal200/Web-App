(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{253:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(29),l=a.n(o),r=(a(44),a(13)),d=a(2),s=(a(45),a(15)),i=a(30);const m=Object(i.a)({apiKey:"AIzaSyCz-PX9Vl-E_hSmm1rhgWQihnEQR_QZDT8",authDomain:"webworkspace-54d30.firebaseapp.com",projectId:"webworkspace-54d30",storageBucket:"webworkspace-54d30.appspot.com",messagingSenderId:"465147165848",appId:"1:465147165848:web:3827f79f607582c931a4ed",measurementId:"G-E1D1CD7FDS"}),u=Object(s.f)(m),b=Object(s.b)(u,"Codes"),E={getDocsList:async()=>await Object(s.e)(b),addCodeBlock:async(e,t)=>{await Object(s.a)(b,{title:e,code:t})},getCode:async e=>{const t=(await Object(s.e)(b)).docs.find(t=>t.id===e);return t?t.data():null},updateDocument:async(e,t)=>{try{const a=Object(s.c)(u,"Codes",e),c=await Object(s.d)(a);if(!c.exists())throw new Error("Document with ID ".concat(e," does not exist"));await Object(s.g)(a,{title:c.data().title,code:t},{merge:!0}),console.log("Document updated successfully!")}catch(a){console.error("Error updating document:",a)}}};var p=a(17);var g=()=>{const[e,t]=Object(c.useState)([]);return Object(c.useEffect)(()=>{const e=Object(p.a)();return e.emit("joinRoom","Lobby"),(async()=>{try{const e=(await E.getDocsList()).docs.map(e=>({id:e.id,title:e.data().title,data:e.data().data}));t(e),console.log("codeBlocksList:",e)}catch(e){console.error("Error fetching code blocks:",e)}})(),()=>{e.disconnect()}},[]),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"code-container"},n.a.createElement("h1",null,"Choose code block"),n.a.createElement("div",{className:"scrollable-section"},n.a.createElement("ul",null,e.map(e=>n.a.createElement("li",{key:e.id},n.a.createElement(r.b,{to:"/codeblock/".concat(e.id)},e.title)))))),n.a.createElement("div",{className:"add-code-block"},n.a.createElement("h2",null,"Add Code Block"),n.a.createElement(r.b,{to:"/add"},n.a.createElement("button",null,"Add"))))},h=a(36),f=a(257),v=a(256);var j=Object(p.a)("http://localhost:3000");var k=()=>{const{id:e}=Object(d.q)(),[t,a]=Object(c.useState)(""),[o,l]=Object(c.useState)(""),[s,i]=Object(c.useState)(null);Object(c.useEffect)(()=>{(async()=>{try{const t=await E.getCode(e);a(t.code),l(t.title),await j.on("role",e=>{console.log(e),i(e)})}catch(t){console.error("Error fetching code block:",t)}})(),j.on("newUpdatedCode",e=>{a(e)})},[]);return n.a.createElement("div",null,n.a.createElement(r.b,{to:"/"},n.a.createElement(h.a,{className:"btn-submit-back"})),n.a.createElement("div",{className:"form-group-code"},n.a.createElement("div",{className:"head"}," Code: ",o),null===s?n.a.createElement(n.a.Fragment,null,n.a.createElement("textarea",{className:"textarea-code",id:"code",value:t,onChange:e=>{a(e.target.value),j.emit("updatedCode",e.target.value)},required:!0}),n.a.createElement("button",{onClick:async a=>{a.preventDefault();try{await E.updateDocument(e,t),window.location.reload()}catch(c){console.error("Error adding code block:",c)}},className:"btn-submit-save"}," Save ")):n.a.createElement(f.a,{language:"javascript",style:v.a},t)))};var w=()=>{const[e,t]=Object(c.useState)(""),[a,o]=Object(c.useState)("");Object(c.useEffect)(()=>{const e=Object(p.a)();return e.emit("joinRoom","AddCodeBock"),()=>{e.disconnect()}},[]);return n.a.createElement("div",{className:"add-code-block-container"},n.a.createElement("h2",null,"Add Code Block"),n.a.createElement("form",{className:"add-code-block-form"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"title"},"Title:"),n.a.createElement("input",{type:"text",id:"title",value:e,onChange:e=>t(e.target.value),required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"code"},"Code:"),n.a.createElement("textarea",{id:"code",value:a,onChange:e=>o(e.target.value),required:!0})),n.a.createElement("button",{onClick:async c=>{c.preventDefault();try{await E.addCodeBlock(e,a),t(""),o("")}catch(n){console.error("Error adding code block:",n)}},className:"btn-submit"}," Submit "),n.a.createElement(r.b,{to:"/"},n.a.createElement("button",{className:"btn-submit"},"Lobby"))))};const C=Object(p.a)();var O=function(){return Object(c.useEffect)(()=>()=>{C.disconnect()},[]),n.a.createElement(r.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{path:"/",element:n.a.createElement(g,null)}),n.a.createElement(d.a,{path:"/codeblock/:id",element:n.a.createElement(k,null)}),n.a.createElement(d.a,{path:"/add",element:n.a.createElement(w,null)})))};var y=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,258)).then(t=>{let{getCLS:a,getFID:c,getFCP:n,getLCP:o,getTTFB:l}=t;a(e),c(e),n(e),o(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null))),y()},37:function(e,t,a){e.exports=a(253)},44:function(e,t,a){},45:function(e,t,a){}},[[37,1,2]]]);
//# sourceMappingURL=main.21a7913f.chunk.js.map