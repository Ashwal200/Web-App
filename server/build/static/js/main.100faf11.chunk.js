(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{256:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),o=a(31),n=a.n(o),l=(a(47),a(17)),s=a(3),d=(a(48),a(13)),i=a(32);const m=Object(i.a)({apiKey:"AIzaSyCz-PX9Vl-E_hSmm1rhgWQihnEQR_QZDT8",authDomain:"webworkspace-54d30.firebaseapp.com",projectId:"webworkspace-54d30",storageBucket:"webworkspace-54d30.appspot.com",messagingSenderId:"465147165848",appId:"1:465147165848:web:3827f79f607582c931a4ed",measurementId:"G-E1D1CD7FDS"}),u=Object(d.f)(m),b=Object(d.b)(u,"Codes"),E={getDocsList:async()=>{try{return await Object(d.e)(b)}catch(e){console.error("Error pulling docs list: ",e)}},addCodeBlock:async(e,t,a)=>{try{await Object(d.a)(b,{title:e,code:t,solution:a,mentor:"true"}),console.log("Code block added successfully!")}catch(c){console.error("Error adding code block: ",c)}},editMentor:async e=>{try{const t=Object(d.c)(u,"Codes",e);if(!(await Object(d.d)(t)).exists())throw new Error("Document with ID ".concat(e," does not exist"));await Object(d.g)(t,{mentor:"false"},{merge:!0}),console.log("Document updated successfully!")}catch(t){console.error("Error editing mentor:",t)}},getData:async e=>{try{const t=(await Object(d.e)(b)).docs.find(t=>t.id===e);return t?t.data():null}catch(t){console.error("Error pulling data:",t)}},updateData:async(e,t)=>{try{const a=Object(d.c)(u,"Codes",e);if(!(await Object(d.d)(a)).exists())throw new Error("Document with ID ".concat(e," does not exist"));await Object(d.g)(a,{code:t},{merge:!0}),console.log("Document updated successfully!")}catch(a){console.error("Error updating data:",a)}},getStatus:async(e,t)=>{try{const a=(await Object(d.e)(b)).docs.find(t=>t.id===e);if(!a||!a.data()||!a.data().solution)throw new Error("Document with ID ".concat(e," does not exist or solution is missing."));const c=a.data().solution.replace(/\/\/.*|\/\*[^]*?\*\//g,"").replace(/\s+/g," ").trim(),r=t.replace(/\/\/.*|\/\*[^]*?\*\//g,"");return r.replace(/\s+/g," ").trim()===c}catch(a){console.error("Error checking the solution:",a)}}};var g=a(33);var p=()=>{const[e,t]=Object(c.useState)([]);Object(c.useEffect)(()=>{(async()=>{try{const e=(await E.getDocsList()).docs.map(e=>({id:e.id,title:e.data().title,data:e.data().data,mentor:e.data().mentor}));t(e)}catch(e){console.error("Error fetching code blocks:",e)}})()},[]);return r.a.createElement("div",{className:"background-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"codeblocks-container"},r.a.createElement("h1",{style:{color:"#403029"}},"Choose code block"),r.a.createElement("div",{className:"scrollable-section"},r.a.createElement("ul",null,e.map(e=>r.a.createElement("li",{key:e.id},r.a.createElement("button",{onClick:()=>(async e=>{try{const t=await E.getData(e);"true"===t.mentor?(await E.editMentor(e),window.location.href="/codeblock/".concat(e,"?role=mentor")):window.location.href="/codeblock/".concat(e,"?role=student")}catch(t){console.error("Error fetching mentor:",t)}})(e.id)},e.title)))))),r.a.createElement("div",{className:"add-code-block"},r.a.createElement("h2",{style:{color:"#403029"}},"Add Code Block"),r.a.createElement(l.b,{to:"/add"},r.a.createElement(g.a,{style:{color:"#366A68",fontSize:"40px"}})))))},h=a(22),f=a(260),w=a(259),v=a(24);var y=Object(v.a)("https://web-app-release.onrender.com");var k=()=>{const[e,t]=Object(c.useState)(""),[a,o]=Object(c.useState)(""),[n,d]=Object(c.useState)(!1),i=Object(s.m)(),m=new URLSearchParams(i.search),u=i.pathname.split("/").pop(),b=m.get("role");Object(c.useEffect)(()=>((async()=>{try{const e=await E.getData(u);t(e.code),o(e.title)}catch(e){console.error("Error fetching code block:",e)}})(),y.on("newUpdatedCode",(e,a)=>{a===u&&t(e)}),()=>{y.off("newUpdatedCode")}),[u]);return r.a.createElement("div",{className:"background-container"},r.a.createElement(l.b,{to:"/"},r.a.createElement(h.a,{className:"btn-submit-back"})),r.a.createElement("div",{className:"form-group-codeblock"},r.a.createElement("div",{className:"head"}," Code: ",a),"student"===b?r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{className:"textarea-code",id:"code",value:e,onChange:e=>{t(e.target.value),y.emit("updatedCode",e.target.value,u)},required:!0}),r.a.createElement("button",{onClick:async t=>{t.preventDefault();try{await E.updateData(u,e);const t=await E.getStatus(u,e);d(t),setTimeout(()=>{d(!1)},3e3)}catch(a){console.error("Error adding code block:",a)}},className:"btn-submit-save"}," Save "),n&&r.a.createElement("div",{className:"popup-style"},r.a.createElement("span",{role:"img","aria-label":"smiley"},"\ud83d\ude0a"))):r.a.createElement(f.a,{language:"javascript",style:w.a},e)))},j=a(39);var O=()=>{const[e,t]=Object(c.useState)(""),[a,o]=Object(c.useState)(""),[n,s]=Object(c.useState)("");return r.a.createElement("div",{className:"background-container"},r.a.createElement(l.b,{to:"/"},r.a.createElement(h.a,{className:"btn-submit-back"})),r.a.createElement("div",{className:"add-code-block-container"},r.a.createElement("form",{className:"add-code-block-form",onSubmit:async c=>{c.preventDefault();try{""!==e&&(await E.addCodeBlock(e,a,n),t(""),o(""),s(""))}catch(r){console.error("Error adding code block:",r)}}},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head"}," Title",r.a.createElement(j.a,{color:"darkred"})),r.a.createElement("input",{type:"text",id:"title",value:e,onChange:e=>t(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head"}," Code:"),r.a.createElement("textarea",{className:"textarea-hight",id:"code",value:a,onChange:e=>o(e.target.value),required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"head"}," Solution:"),r.a.createElement("textarea",{className:"textarea-hight",id:"solution",value:n,onChange:e=>s(e.target.value),required:!0})),r.a.createElement("button",{type:"submit",className:"btn-submit"}," Submit "))))};const N=Object(v.a)();var C=function(){return Object(c.useEffect)(()=>()=>{N.disconnect()},[]),r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(p,null)}),r.a.createElement(s.a,{path:"/codeblock/:id",element:r.a.createElement(k,null)}),r.a.createElement(s.a,{path:"/add",element:r.a.createElement(O,null)})))};var D=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,261)).then(t=>{let{getCLS:a,getFID:c,getFCP:r,getLCP:o,getTTFB:n}=t;a(e),c(e),r(e),o(e),n(e)})};n.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null))),D()},40:function(e,t,a){e.exports=a(256)},47:function(e,t,a){},48:function(e,t,a){}},[[40,1,2]]]);
//# sourceMappingURL=main.100faf11.chunk.js.map