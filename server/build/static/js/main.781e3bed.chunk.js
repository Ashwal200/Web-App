(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{250:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(28),r=a.n(o),l=(a(43),a(15)),d=a(2),s=(a(44),a(12)),m=a(29);const i=Object(m.a)({apiKey:"AIzaSyCz-PX9Vl-E_hSmm1rhgWQihnEQR_QZDT8",authDomain:"webworkspace-54d30.firebaseapp.com",projectId:"webworkspace-54d30",storageBucket:"webworkspace-54d30.appspot.com",messagingSenderId:"465147165848",appId:"1:465147165848:web:3827f79f607582c931a4ed",measurementId:"G-E1D1CD7FDS"}),u=Object(s.f)(i),b=Object(s.b)(u,"Codes"),E={getDocsList:async()=>await Object(s.e)(b),addCodeBlock:async(e,t)=>{await Object(s.a)(b,{title:e,code:t})},addMentor:async(e,t)=>{try{const a=Object(s.c)(u,"Codes",e),c=await Object(s.d)(a);if(!c.exists())throw new Error("Document with ID ".concat(e," does not exist"));await Object(s.g)(a,{title:c.data().title,code:c.data().code,mentor:t},{merge:!0}),console.log("Document updated successfully!")}catch(a){console.error("Error updating document:",a)}},getCode:async e=>{const t=(await Object(s.e)(b)).docs.find(t=>t.id===e);return t?t.data():null},updateDocument:async(e,t)=>{try{const a=Object(s.c)(u,"Codes",e),c=await Object(s.d)(a);if(!c.exists())throw new Error("Document with ID ".concat(e," does not exist"));await Object(s.g)(a,{title:c.data().title,code:t},{merge:!0}),console.log("Document updated successfully!")}catch(a){console.error("Error updating document:",a)}}};var p=a(21);var g=Object(p.a)("https://web-app-release.onrender.com");var h=()=>{const[e,t]=Object(c.useState)([]);Object(c.useEffect)(()=>((async()=>{try{const e=(await E.getDocsList()).docs.map(e=>({id:e.id,title:e.data().title,data:e.data().data,mentor:e.data().mentor}));t(e)}catch(e){console.error("Error fetching code blocks:",e)}})(),()=>{g.disconnect()}),[]);return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"code-container"},n.a.createElement("h1",null,"Choose code block"),n.a.createElement("div",{className:"scrollable-section"},n.a.createElement("ul",null,e.map(e=>n.a.createElement("li",{key:e.id},n.a.createElement("button",{onClick:()=>(async(e,t)=>{"true"===t?(await E.addMentor(e,"false"),window.location.href="/codeblock/".concat(e,"?role=mentor")):window.location.href="/codeblock/".concat(e,"?role=student")})(e.id,e.mentor)},e.title)))))),n.a.createElement("div",{className:"add-code-block"},n.a.createElement("h2",null,"Add Code Block"),n.a.createElement(l.b,{to:"/add"},n.a.createElement("button",null,"Add"))))},w=a(35),f=a(254),v=a(253);var k=()=>{const[e,t]=Object(c.useState)(""),[a,o]=Object(c.useState)(""),r=Object(d.m)(),s=new URLSearchParams(r.search),m=r.pathname.split("/").pop(),i=s.get("role");Object(c.useEffect)(()=>((async()=>{try{const e=await E.getCode(m);t(e.code),o(e.title),console.log(i)}catch(e){console.error("Error fetching code block:",e)}})(),g.on("newUpdatedCode",e=>{t(e)}),()=>{g.off("newUpdatedCode")}),[m]);return n.a.createElement("div",null,n.a.createElement(l.b,{to:"/"},n.a.createElement(w.a,{className:"btn-submit-back"})),n.a.createElement("div",{className:"form-group-code"},n.a.createElement("div",{className:"head"}," Code: ",a),"student"===i?n.a.createElement(n.a.Fragment,null,n.a.createElement("textarea",{className:"textarea-code",id:"code",value:e,onChange:e=>{t(e.target.value),g.emit("updatedCode",e.target.value)},required:!0}),n.a.createElement("button",{onClick:async t=>{t.preventDefault();try{await E.updateDocument(m,e)}catch(a){console.error("Error adding code block:",a)}},className:"btn-submit-save"}," Save ")):n.a.createElement(f.a,{language:"javascript",style:v.a},e)))};var C=()=>{const[e,t]=Object(c.useState)(""),[a,o]=Object(c.useState)("");return n.a.createElement("div",{className:"add-code-block-container"},n.a.createElement("h2",null,"Add Code Block"),n.a.createElement("form",{className:"add-code-block-form"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"title"},"Title:"),n.a.createElement("input",{type:"text",id:"title",value:e,onChange:e=>t(e.target.value),required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"code"},"Code:"),n.a.createElement("textarea",{id:"code",value:a,onChange:e=>o(e.target.value),required:!0})),n.a.createElement("button",{onClick:async c=>{c.preventDefault();try{await E.addCodeBlock(e,a),t(""),o("")}catch(n){console.error("Error adding code block:",n)}},className:"btn-submit"}," Submit "),n.a.createElement(l.b,{to:"/"},n.a.createElement("button",{className:"btn-submit"},"Lobby"))))};Object(p.a)();var y=function(){return n.a.createElement(l.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{path:"/",element:n.a.createElement(h,null)}),n.a.createElement(d.a,{path:"/codeblock/:id",element:n.a.createElement(k,null)}),n.a.createElement(d.a,{path:"/add",element:n.a.createElement(C,null)})))};var j=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,255)).then(t=>{let{getCLS:a,getFID:c,getFCP:n,getLCP:o,getTTFB:r}=t;a(e),c(e),n(e),o(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null))),j()},36:function(e,t,a){e.exports=a(250)},43:function(e,t,a){},44:function(e,t,a){}},[[36,1,2]]]);
//# sourceMappingURL=main.781e3bed.chunk.js.map