(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{252:function(e,t,a){"use strict";a.r(t);var c=a(1),o=a.n(c),r=a(30),n=a.n(r),l=(a(45),a(16)),s=a(3),d=(a(46),a(13)),i=a(31);const m=Object(i.a)({apiKey:"AIzaSyCz-PX9Vl-E_hSmm1rhgWQihnEQR_QZDT8",authDomain:"webworkspace-54d30.firebaseapp.com",projectId:"webworkspace-54d30",storageBucket:"webworkspace-54d30.appspot.com",messagingSenderId:"465147165848",appId:"1:465147165848:web:3827f79f607582c931a4ed",measurementId:"G-E1D1CD7FDS"}),u=Object(d.f)(m),b=Object(d.b)(u,"Codes"),E={getDocsList:async()=>{try{return await Object(d.e)(b)}catch(e){console.error("Error pulling docs list: ",e)}},addCodeBlock:async(e,t,a)=>{try{Object(d.a)(b,{title:e,code:t,solution:a,mentor:"true"}),console.log("Code block added successfully!")}catch(c){console.error("Error adding code block: ",c)}},editMentor:async(e,t)=>{try{const a=Object(d.c)(u,"Codes",e),c=await Object(d.d)(a);if(!c.exists())throw new Error("Document with ID ".concat(e," does not exist"));await Object(d.g)(a,{title:c.data().title,code:c.data().code,mentor:t,solution:c.data().solution},{merge:!0}),console.log("Document updated successfully!")}catch(a){console.error("Error edit mentor:",a)}},getData:async e=>{try{const t=(await Object(d.e)(b)).docs.find(t=>t.id===e);return t?t.data():null}catch(t){console.error("Error pulling data:",t)}},updateData:async(e,t)=>{try{const a=Object(d.c)(u,"Codes",e),c=await Object(d.d)(a);if(!c.exists())throw new Error("Document with ID ".concat(e," does not exist"));await Object(d.g)(a,{title:c.data().title,code:t},{merge:!0}),console.log("Document updated successfully!")}catch(a){console.error("Error updating data:",a)}},getStatus:async(e,t)=>{try{const c=(await Object(d.e)(b)).docs.find(t=>t.id===e),o=a(!function(){var e=new Error("Cannot find module 'prettier'");throw e.code="MODULE_NOT_FOUND",e}());return o.format(t,{parser:"babel"})===o.format(c.data().solution,{parser:"babel"})}catch(c){console.error("Error checking the solution:",c)}}};var p=a(23);var g=Object(p.a)("https://web-app-release.onrender.com"),h=a(33);var f=()=>{const[e,t]=Object(c.useState)([]);Object(c.useEffect)(()=>((async()=>{try{const e=(await E.getDocsList()).docs.map(e=>({id:e.id,title:e.data().title,data:e.data().data,mentor:e.data().mentor}));t(e)}catch(e){console.error("Error fetching code blocks:",e)}})(),()=>{g.disconnect()}),[]);return o.a.createElement("div",{className:"background-container"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"codeblocks-container"},o.a.createElement("h1",{style:{color:"#403029"}},"Choose code block"),o.a.createElement("div",{className:"scrollable-section"},o.a.createElement("ul",null,e.map(e=>o.a.createElement("li",{key:e.id},o.a.createElement("button",{onClick:()=>(async(e,t)=>{"true"===t?(await E.editMentor(e,"false"),window.location.href="/codeblock/".concat(e,"?role=mentor")):window.location.href="/codeblock/".concat(e,"?role=student")})(e.id,e.mentor)},e.title)))))),o.a.createElement("div",{className:"add-code-block"},o.a.createElement("h2",{style:{color:"#403029"}},"Add Code Block"),o.a.createElement(l.b,{to:"/add"},o.a.createElement(h.a,{style:{color:"#366A68",fontSize:"40px"}})))))},v=a(21),w=a(256),y=a(255);var k=()=>{const[e,t]=Object(c.useState)(""),[a,r]=Object(c.useState)(""),[n,d]=Object(c.useState)(!1),i=Object(s.m)(),m=new URLSearchParams(i.search),u=i.pathname.split("/").pop(),b=m.get("role");Object(c.useEffect)(()=>((async()=>{try{if(n){const e=setTimeout(()=>{d(!1)},3e3);return()=>clearTimeout(e)}const e=await E.getData(u);t(e.code),r(e.title)}catch(e){console.error("Error fetching code block:",e)}})(),g.on("newUpdatedCode",e=>{t(e)}),()=>{g.off("newUpdatedCode")}),[u,n]);return o.a.createElement("div",{className:"background-container"},o.a.createElement(l.b,{to:"/"},o.a.createElement(v.a,{className:"btn-submit-back"})),o.a.createElement("div",{className:"form-group-codeblock"},o.a.createElement("div",{className:"head"}," Code: ",a),"student"===b?o.a.createElement(o.a.Fragment,null,o.a.createElement("textarea",{className:"textarea-code",id:"code",value:e,onChange:e=>{t(e.target.value),g.emit("updatedCode",e.target.value)},required:!0}),o.a.createElement("button",{onClick:async t=>{t.preventDefault();try{await E.updateData(u,e);const t=await E.getStatus(u,e);d(t)}catch(a){console.error("Error adding code block:",a)}},className:"btn-submit-save"}," Save "),n&&o.a.createElement("div",{className:"popup-style"},o.a.createElement("span",{role:"img","aria-label":"smiley"},"\ud83d\ude0a"))):o.a.createElement(w.a,{language:"javascript",style:y.a},e)))};var O=()=>{const[e,t]=Object(c.useState)(""),[a,r]=Object(c.useState)(""),[n,s]=Object(c.useState)("");return o.a.createElement("div",{className:"background-container"},o.a.createElement(l.b,{to:"/"},o.a.createElement(v.a,{className:"btn-submit-back"})),o.a.createElement("div",{className:"add-code-block-container"},o.a.createElement("form",{className:"add-code-block-form"},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"head"}," Title"),o.a.createElement("input",{type:"text",id:"title",value:e,onChange:e=>t(e.target.value),required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"head"}," Code:"),o.a.createElement("textarea",{id:"code",value:a,onChange:e=>r(e.target.value),required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"head"}," Solution:"),o.a.createElement("textarea",{id:"solution",value:n,onChange:e=>s(e.target.value),required:!0})),o.a.createElement("button",{onClick:async c=>{c.preventDefault();try{""!==e&&(await E.addCodeBlock(e,a,n),t(""),r(""),s(""))}catch(o){console.error("Error adding code block:",o)}},className:"btn-submit"}," Submit "))))};const j=Object(p.a)();var C=function(){return Object(c.useEffect)(()=>()=>{j.disconnect()},[]),o.a.createElement(l.a,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",element:o.a.createElement(f,null)}),o.a.createElement(s.a,{path:"/codeblock/:id",element:o.a.createElement(k,null)}),o.a.createElement(s.a,{path:"/add",element:o.a.createElement(O,null)})))};var N=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,257)).then(t=>{let{getCLS:a,getFID:c,getFCP:o,getLCP:r,getTTFB:n}=t;a(e),c(e),o(e),r(e),n(e)})};n.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null))),N()},38:function(e,t,a){e.exports=a(252)},45:function(e,t,a){},46:function(e,t,a){}},[[38,1,2]]]);
//# sourceMappingURL=main.339a951c.chunk.js.map